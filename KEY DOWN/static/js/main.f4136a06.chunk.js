(this.webpackJsonpkeyboard_typing=this.webpackJsonpkeyboard_typing||[]).push([[0],{45:function(e,t,a){},47:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a.n(s),r=a(36),n=a.n(r),o=(a(45),a(25)),l=a.n(o),i=a(37),d=a(3),j=(a(47),a(4)),b=a.n(j),h=a(18),u=a(14),m=a(7),O=a.p+"static/media/Login.3aa81976.png",p=a(22),x=a(1),v=function(e){var t=e.darkMode,a=e.setGlobalLoggedIn,c=e.userList,r=e.getUserList,n=Object(s.useState)(""),o=Object(d.a)(n,2),l=o[0],i=o[1],j=Object(s.useState)(""),v=Object(d.a)(j,2),g=v[0],f=v[1],k=Object(s.useState)(!1),S=Object(d.a)(k,2),y=S[0],N=S[1],w=Object(s.useState)(!1),C=Object(d.a)(w,2),M=C[0],T=C[1],A=Object(s.useState)(!1),L=Object(d.a)(A,2),I=L[0],E=L[1],D=Object(s.useState)(!0),P=Object(d.a)(D,2),U=P[0],F=P[1],z=Object(s.useState)(!1),R=Object(d.a)(z,2),K=R[0],W=R[1];return Object(s.useEffect)((function(){document.title="Sign in/Register"}),[]),Object(x.jsx)("div",{children:K?Object(x.jsx)("div",{className:"loading loading-home"}):Object(x.jsxs)("div",{className:"login",children:[Object(x.jsx)("img",{src:O,alt:"Login",height:"100rem",width:"100rem",className:"login-image"}),Object(x.jsx)("br",{}),Object(x.jsx)(h.a,{className:"icon-people"}),Object(x.jsx)(m.f,{className:"".concat(U?"icon-password-register":"icon-password")}),!1===I?Object(x.jsx)(u.b,{className:"".concat(U?"icon-show-hide-register":"icon-show-hide"),title:"Show Password",onClick:function(){E(!I)}}):Object(x.jsx)(u.c,{className:"".concat(U?"icon-show-hide-register":"icon-show-hide"),title:"Hide Password",onClick:function(){E(!I)}}),Object(x.jsx)("br",{}),Object(x.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),U){if(!M)return void alert("Sorry the username already exists. Please select a different username.");var t=l[0].charCodeAt();if(!(t>=65&&t<=90||t>=97&&t<=122))return void alert("The first character of your username must be an alphabet.");var s={username:l,password:g};W(!0),b.a.post("https://key-down.herokuapp.com/api/auth/register",s).then((function(e){return e.data})).then((function(e){W(!1),window.localStorage.setItem("auth-token",e),r(),a(!0)})).catch((function(){W(!1),alert("Sorry the username already exists. Please change the username.")}))}else{var c={username:l,password:g};W(!0),b.a.post("https://key-down.herokuapp.com/api/auth/login",c).then((function(e){return e.data})).then((function(e){W(!1),window.localStorage.setItem("auth-token",e),a(!0)})).catch((function(){W(!1),alert("Sorry invalid username or password")}))}},children:[Object(x.jsx)("label",{className:"login-label",children:"Username"}),Object(x.jsx)("input",{className:"login-input",type:"text",value:l,placeholder:"Enter Username (max 25 characters)",maxLength:"25",required:!0,onChange:function(e){i(e.target.value),-1!==c.indexOf(e.target.value)?T(!1):T(!0)}}),U&&Object(x.jsxs)("div",{className:"pass-length-warn",children:[Object(x.jsx)("span",{style:{color:"red"},children:"* "}),"Your username will be visible to other users."]}),Object(x.jsx)("br",{}),Object(x.jsx)("label",{className:"login-label",children:"Password"}),Object(x.jsx)("input",{className:"login-input",type:"".concat(I?"text":"password"),value:g,placeholder:"Enter Password",required:!0,minLength:"6",onChange:function(e){e.target.value.length<6?N(!1):N(!0),f(e.target.value)}}),Object(x.jsx)("br",{}),U&&!y&&Object(x.jsxs)("div",{className:"pass-length-warn",children:[Object(x.jsx)("span",{style:{color:"red"},children:"* "}),"Password must be atleast 6 characters long."]}),U?Object(x.jsx)("input",{className:"".concat(t?"login-submit-dark":"login-submit"),type:"submit",value:"Register"}):Object(x.jsx)("input",{className:"".concat(t?"login-submit-dark":"login-submit"),type:"submit",value:"Login"})]}),U?Object(x.jsxs)("div",{className:"change-sign-in",children:["Already have an account?",Object(x.jsx)("span",{className:"change-register",onClick:function(){F(!U)},children:"  Login"})]}):Object(x.jsxs)("div",{className:"change-sign-in",children:["Don't have an account?",Object(x.jsx)("span",{className:"change-register",onClick:function(){F(!U)},children:"  Register"})]}),U&&y?Object(x.jsx)("div",{children:Object(x.jsx)(p.a,{className:"".concat(t?"icon-verified-dark":"icon-verified")})}):Object(x.jsx)("div",{children:Object(x.jsx)(p.a,{className:"icon-hidden"})}),U&&l.length>0?M?Object(x.jsx)("div",{children:Object(x.jsx)(p.a,{className:"".concat(t?"icon-verified-username-dark":"icon-verified-username")})}):Object(x.jsx)("div",{children:Object(x.jsx)(m.k,{title:"Sorry the username is already taken",className:"".concat(t?"icon-verified-username-dark":"icon-verified-username"),style:{color:"red"}})}):Object(x.jsx)("div",{})]})})},g=a(38),f=function(e){var t=e.setGlobalLoggedIn,a=e.getUserList,c=e.darkMode,r=Object(s.useState)(""),n=Object(d.a)(r,2),o=n[0],l=n[1],i=Object(s.useState)(!0),j=Object(d.a)(i,2),h=j[0],u=j[1];return Object(s.useEffect)((function(){u(!0),b.a.get("https://key-down.herokuapp.com/api/user/username",{headers:{"auth-token":window.localStorage.getItem("auth-token")}}).then((function(e){return e.data})).then((function(e){u(!1),l(e.loginDetails.username),document.title=e.loginDetails.username}))}),[]),Object(x.jsx)("div",{children:h?Object(x.jsx)("div",{className:"loading loading-home"}):Object(x.jsxs)("div",{className:"account-info",children:[Object(x.jsxs)("h2",{className:"display-username",children:["Username: ",o]}),Object(x.jsxs)("fieldset",{className:"account-info-fieldset",children:[Object(x.jsx)("legend",{className:"account-info-legend",children:"Account Actions"}),Object(x.jsxs)("p",{children:["Your data is stored with us and you can access your account anywhere using your username and password.",Object(x.jsx)("br",{}),"To logout click the button below. Note that your typing stats will only be stored by us when you are logged in."]}),Object(x.jsxs)("button",{onClick:function(e){e.preventDefault(),window.confirm("Are you sure you want to log out?")&&(window.localStorage.removeItem("auth-token"),t(!1))},className:"".concat(c?"logout-btn-dark":"logout-btn"),children:[Object(x.jsx)(g.a,{className:"".concat(c?"logout-icon-dark":"logout-icon")}),Object(x.jsx)("span",{className:"logout-text",children:"Logout"})]})]}),Object(x.jsxs)("fieldset",{className:"account-info-fieldset",children:[Object(x.jsx)("legend",{className:"account-info-legend",children:"Delete Account"}),Object(x.jsx)("p",{children:"To delete your account click the button below. Note that once you delete your account all your typing data will be deleted and it cannot be recovered.Make sure you completely understand the consequences before proceeding."}),Object(x.jsxs)("button",{onClick:function(e){e.preventDefault(),window.confirm("Are you sure you want to delete your account?")&&(u(!0),b.a.delete("https://key-down.herokuapp.com/api/user/delete",{headers:{"auth-token":window.localStorage.getItem("auth-token")}}).then((function(){u(!1),window.localStorage.removeItem("auth-token"),a(),t(!1)})).catch((function(){u(!1),alert("Sorry an error occured.")})))},className:"".concat(c?"logout-btn-dark":"logout-btn"),children:[Object(x.jsx)(m.l,{className:"".concat(c?"logout-icon-dark":"logout-icon"),style:{fontSize:"1.2rem"}}),Object(x.jsx)("span",{className:"logout-text",style:{position:"relative",bottom:"0.15rem"},children:"Delete"})]})]})]})})},k=function(e){var t=e.darkMode,a=e.globalLoggedIn,c=e.setGlobalLoggedIn,r=Object(s.useState)([]),n=Object(d.a)(r,2),o=n[0],l=n[1],i=Object(s.useState)(!0),j=Object(d.a)(i,2),h=j[0],u=j[1];function m(){u(!0),b.a.get("https://key-down.herokuapp.com/api/users").then((function(e){return e.data})).then((function(e){l(e),u(!1)})).catch((function(e){u(!1),console.log(e)}))}return Object(s.useEffect)((function(){m()}),[]),Object(x.jsx)("div",{children:h?Object(x.jsx)("div",{className:"loading loading-home"}):!0===a?Object(x.jsx)(f,{setGlobalLoggedIn:c,getUserList:m,darkMode:t}):Object(x.jsx)(v,{darkMode:t,setGlobalLoggedIn:c,userList:o,getUserList:m})})},S=function(e){var t=e.words,a=e.errorInd,s=e.currInd,c=e.focus,r=e.darkMode,n=e.testFontSize;return Object(x.jsx)("div",{className:"algn ".concat(0===n?"size-0":"".concat(1===n?"size-1":"size-2")),children:t.split("").map((function(e,n){return n<s?!1===a[n]?"\u2423"===t[n]?Object(x.jsxs)("span",{className:"".concat(c?"".concat(r?"correct-dark":"correct"):"inactive"),children:[e,Object(x.jsx)("wbr",{})]},n):Object(x.jsx)("span",{className:"".concat(c?"".concat(r?"correct-dark":"correct"):"inactive"),children:e},n):"\u2423"===t[n]?Object(x.jsxs)("span",{className:"".concat(c?"incorrect":"inactive"),children:[e,Object(x.jsx)("wbr",{})]},n):Object(x.jsx)("span",{className:"".concat(c?"incorrect":"inactive"),children:e},n):n===s?"\u2423"===t[n]?Object(x.jsxs)("span",{className:"".concat(c?"".concat(r?"curr-letter-dark":"curr-letter"):"inactive"),children:[e,Object(x.jsx)("wbr",{})]},n):Object(x.jsx)("span",{className:"".concat(c?"".concat(r?"curr-letter-dark":"curr-letter"):"inactive"),children:e},n):"\u2423"===t[n]?Object(x.jsxs)("span",{className:"".concat(c?"":"inactive"),children:[e,Object(x.jsx)("wbr",{})]},n):Object(x.jsx)("span",{className:"".concat(c?"":"inactive"),children:e},n)}))})},y=a(19),N=a(20),w=a(21),C=function(e){var t=e.darkMode,a=e.testVariables;return Object(x.jsxs)("div",{className:"".concat(t?"stats-2-dark":"stats-2"),children:[Object(x.jsx)("span",{style:{color:"#00a3cc"},children:"Current keys:  "}),a.map((function(e,s){var c=e.charCodeAt()-32;return s!==a.length-1?Object(x.jsxs)("span",{className:"".concat(t?"test-char-dark":"test-char"),children:[String.fromCharCode(c),", "]},s):Object(x.jsx)("span",{className:"".concat(t?"test-char-dark":"test-char"),children:String.fromCharCode(c)},s)}))]})},M=function(e){var t=e.darkMode,a=e.charSpeed,c=e.totalTime,r=Object(s.useState)(!1),n=Object(d.a)(r,2),o=n[0],l=n[1];return Object(x.jsxs)("div",{className:"".concat(t?"stats-2-dark":"stats-2"),children:[Object(x.jsx)("span",{style:{color:"#00a3cc"},children:"Keys' Speed: "}),0===c?Object(x.jsx)("output",{className:"".concat(t?"output-dark":"output"),children:"NA"}):a.flatMap((function(e,a){var s=a+65;if(-1===e||e>0){var c="".concat(-1===e?"speed-1":"".concat(e<=20?"speed-2":"".concat(e<=50?"speed-3":"".concat(e<=80?"speed-4":"speed-5"))));return Object(x.jsx)("span",{className:"".concat(c," ").concat(t?"char-speed-dark":"char-speed"),title:"".concat(-1===e?"No occurence of this character in the test":"Speed= ".concat(e," WPM")),children:String.fromCharCode(s)},a)}return[]})),Object(x.jsxs)("span",{className:"char-speed-details",onMouseEnter:function(){l(!0)},onMouseLeave:function(){l(!1)},children:[Object(x.jsx)(m.h,{style:{color:"#0066ff",fontSize:"22px"}}),o&&Object(x.jsxs)("div",{className:"".concat(t?"tooltip-dark":"tooltip"),children:[Object(x.jsx)("div",{style:{textAlign:"center",marginBottom:"5px",fontWeight:"bold"},children:"Color Codes"}),Object(x.jsx)("span",{className:"color-box",style:{backgroundColor:"white"}}),Object(x.jsx)("span",{children:" No occurence."}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{className:"color-box",style:{backgroundColor:"rgba(255,0,0,0.8)"}}),Object(x.jsx)("span",{children:" 0 <= Speed <=20"}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{className:"color-box",style:{backgroundColor:"rgba(0,170,0,0.8)"}}),Object(x.jsx)("span",{children:" 20 < Speed <=50"}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{className:"color-box",style:{backgroundColor:"rgba(0,250,0,0.8)"}}),Object(x.jsx)("span",{children:" 50 < Speed <=80"}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{className:"color-box",style:{backgroundColor:"rgba(26,198,255,0.8)"}}),Object(x.jsx)("span",{children:" Speed >80"})]})]})]})},T=function(e){var t=e.totalTime,a=e.testLength,s=e.error,c=e.restartTest,r=e.startNewTest,n=e.testVariables,o=e.darkMode,l=e.charSpeed,i=e.setDisplaySettings,d=e.testFontSize,j=e.setTestFontSize,b=(200*a*60/t).toFixed(1),h=(100-s/a*100).toFixed(2);return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"icons",children:[Object(x.jsx)("span",{title:"Set your own custom test",className:"".concat(o?"icon-dark":"icon"),onClick:function(){i(!0)},children:Object(x.jsx)(y.b,{})}),Object(x.jsx)("span",{title:"Restart the current test",className:"".concat(o?"icon-dark":"icon"),onClick:c,children:Object(x.jsx)(N.b,{})}),Object(x.jsx)("span",{title:"Start a new test",className:"".concat(o?"icon-dark":"icon"),onClick:r,children:Object(x.jsx)(N.a,{})}),Object(x.jsx)("span",{title:"".concat(0===d?"Switch to medium font":"".concat(1===d?"Switch to large font":"Switch to small font")),className:"".concat(o?"icon-dark":"icon"),onClick:function(){window.localStorage.setItem("fs",(d+1)%3),j((d+1)%3)},children:Object(x.jsx)(w.a,{})})]}),0===t?Object(x.jsxs)("div",{className:"".concat(o?"stats-dark":"stats"),children:[Object(x.jsxs)("span",{style:{color:"#00a3cc",marginRight:"70px"},children:["Speed: ",Object(x.jsx)("output",{className:"".concat(o?"output-dark":"output"),children:"NA"})]}),Object(x.jsxs)("span",{style:{color:"#e60000",marginRight:"70px"},children:["Error: ",Object(x.jsx)("output",{className:"".concat(o?"output-dark":"output"),children:"NA"})]}),Object(x.jsxs)("span",{style:{color:"#00cc44"},children:[" Accuracy: ",Object(x.jsx)("output",{className:"".concat(o?"output-dark":"output"),children:"NA"})]})]}):Object(x.jsxs)("div",{className:"".concat(o?"stats-dark":"stats"),children:[Object(x.jsxs)("span",{style:{color:"#00a3cc",marginRight:"70px"},title:"Speed is in words per minute",children:["Speed: ",Object(x.jsx)("output",{className:"".concat(o?"output-dark":"output"),children:b}),Object(x.jsx)("span",{className:"".concat(o?"output-dark":"output"),style:{fontSize:"1rem"},children:" WPM"})]}),Object(x.jsxs)("span",{style:{color:"#e60000",marginRight:"70px"},children:["Error: ",Object(x.jsx)("output",{className:"".concat(o?"output-dark":"output"),children:s})]}),Object(x.jsxs)("span",{style:{color:"#00cc44"},children:[" Accuracy: ",Object(x.jsxs)("output",{className:"".concat(o?"output-dark":"output"),children:[h,"%"]})]})]}),Object(x.jsx)(M,{darkMode:o,charSpeed:l,totalTime:t}),Object(x.jsx)(C,{darkMode:o,testVariables:n})]})},A=function(e){var t=e.darkMode,a=e.testVariables,c=e.puncLetters,r=e.selectAll,n=e.setSelectAll,o=e.countChar,l=e.setCountChar,i=e.capLet,j=e.setCapLet,b=e.puncChar,h=e.setPuncChar,u=e.generateWords,m=e.testChar,O=e.setTestChar,p=e.setDisplaySettings,v=e.wordsCount,g=e.setWordsCount,f=e.lettersCount,k=e.setLettersCount,y=e.words,N=e.errorInd,w=e.currInd,C=e.focus,M=e.testFontSize,T=e.updateSettings,A=Object(s.useState)(b),L=Object(d.a)(A,1)[0],I=Object(s.useState)(i),E=Object(d.a)(I,1)[0],D=Object(s.useState)(v),P=Object(d.a)(D,1)[0],U=Object(s.useState)(f),F=Object(d.a)(U,1)[0],z=Object(s.useState)(r),R=Object(d.a)(z,1)[0],K=Object(s.useState)(o),W=Object(d.a)(K,1)[0],G=Object(s.useState)(m),B=Object(d.a)(G,1)[0],q=Object(s.useState)(m),V=Object(d.a)(q,2),Y=V[0],_=V[1],J=Object(s.useState)(y),H=Object(d.a)(J,2),Q=H[0],X=H[1],Z=Object(s.useState)(a),$=Object(d.a)(Z,2),ee=$[0],te=$[1];return Object(s.useEffect)((function(){te([]);var e="";Y.forEach((function(t,a){if(!0===t){var s=97+a;e+=String.fromCharCode(s)}}));var t=e.split("");te(t)}),[Y]),Object(s.useEffect)((function(){if(0!==ee.length){for(var e=Math.max(v-2,Math.floor(Math.random()*v)+5),t="",a=1;a<=e;a++){for(var s=Math.floor(Math.random()*f)+3,r=1;r<=s;r++){var n=Math.floor(Math.random()*ee.length);if(1===r&&!0===i){var o=ee[n].charCodeAt()-32;t+=String.fromCharCode(o)}else t+=ee[n]}if(a!==e){if(!0===b){var l=Math.floor(Math.random()*c.length);t+=c[l]}t+="\u2423"}}X(t)}}),[ee,b,i,c,v,f,Y]),Object(x.jsxs)("div",{className:"settings",children:[Object(x.jsx)("p",{className:"set-title",children:"Settings"}),Object(x.jsxs)("form",{children:[Object(x.jsxs)("fieldset",{className:"settings-fieldset",children:[Object(x.jsx)("legend",{className:"settings-legend",children:"Include in your test"}),Object(x.jsxs)("div",{className:"form1",children:[Object(x.jsx)("input",{type:"checkbox",id:"capital",checked:i,onChange:function(){j(!i)}}),Object(x.jsx)("label",{className:"label-1",htmlFor:"capital",children:"Enable Capital Letters"}),Object(x.jsx)("input",{type:"checkbox",id:"punctuation",checked:b,onChange:function(){h(!b)}}),Object(x.jsx)("label",{className:"label-1",htmlFor:"punctuation",children:"Enable Punctuation Characters"})]})]}),Object(x.jsxs)("fieldset",{className:"settings-fieldset",children:[Object(x.jsx)("legend",{className:"settings-legend",children:"Create your own test"}),Object(x.jsx)("p",{className:"set-details",children:"Select atleast 4 letters for a better and more varied test experience."}),Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"checkbox",id:"select-all",checked:r,onChange:function(e){if(!0===e.target.checked){var t=new Array(26);t.fill(!0),_(t),O(t),n(!0),l(26)}else{var a=new Array(26);a.fill(!1),_(a),O(a),n(!1),l(0)}}}),Object(x.jsx)("label",{className:"label-2",children:"Select All"})]}),Object(x.jsx)("div",{children:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map((function(e,t){return Object(x.jsxs)("span",{className:"display-alphabets",children:[Object(x.jsx)("input",{className:"checkbox-2",type:"checkbox",id:e,checked:Y[t],value:Y[t],onChange:function(e){if(!1===e.target.checked){l(o-1),!0===r&&n(!1)}else{var a=o+1;l(a),26===a&&n(!0)}var s=Y.map((function(e,a){return a===t?!e:e}));_(s),O(s)}}),Object(x.jsx)("label",{className:"label-3",children:e})]},t)}))})]}),Object(x.jsxs)("fieldset",{className:"settings-fieldset",children:[Object(x.jsx)("legend",{className:"settings-legend",children:"Customize length of your test"}),Object(x.jsx)("p",{className:"set-details",children:"Adjust the length of your test. Pointer towards right means greater length."}),Object(x.jsxs)("div",{className:"sliders",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"range",min:"8",max:"20",value:v,onChange:function(e){g(e.target.value)},className:"slider-1 ".concat(t?"slider-1-dark":"")}),Object(x.jsx)("label",{className:"label-4",children:"Adjust words in your test"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"range",min:"2",max:"7",value:f,onChange:function(e){k(e.target.value)},className:"slider-1 ".concat(t?"slider-1-dark":"")}),Object(x.jsx)("label",{className:"label-4",children:"Adjust letters in your word"})]})]})]}),Object(x.jsxs)("fieldset",{className:"settings-fieldset",children:[Object(x.jsx)("legend",{className:"settings-legend",children:"Preview your test"}),o<4?Object(x.jsx)("p",{className:"set-details",children:"Select atleast 4 letters to preview your test"}):Object(x.jsx)(S,{words:Q,errorInd:N,currInd:w,focus:C,darkMode:t,testFontSize:M})]}),Object(x.jsxs)("div",{className:"submit",children:[Object(x.jsx)("input",{type:"submit",value:"Save Changes",className:"".concat(t?"submit-btn-dark":"submit-btn"),onClick:function(e){e.preventDefault(),o<4?alert("Please select atleast 4 letters for a better test experience."):(u(),T(i,b,f,v,r,m),p(!1))}}),Object(x.jsx)("input",{type:"submit",value:"Cancel",className:"".concat(t?"submit-btn-dark":"submit-btn"),onClick:function(e){e.preventDefault(),j(E),h(L),k(F),g(P),n(R),l(W),O(B),_(B),p(!1)},title:"Return without saving changes"})]})]})]})},L=function(e){var t=e.darkMode,a=e.testFontSize,c=e.setTestFontSize,r=e.updateStats,n=Object(s.useState)(!1),o=Object(d.a)(n,2),l=o[0],i=o[1],j=Object(s.useState)(!1),h=Object(d.a)(j,2),u=h[0],m=h[1],O=Object(s.useState)(14),p=Object(d.a)(O,2),v=p[0],g=p[1],f=Object(s.useState)(5),k=Object(d.a)(f,2),y=k[0],N=k[1],w=Object(s.useState)([!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]),C=Object(d.a)(w,2),M=C[0],L=C[1],I=Object(s.useState)(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]),E=Object(d.a)(I,2),D=E[0],P=E[1],U=Object(s.useState)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),F=Object(d.a)(U,2),z=F[0],R=F[1],K=Object(s.useState)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),W=Object(d.a)(K,2),G=W[0],B=W[1],q=Object(s.useState)(!0),V=Object(d.a)(q,2),Y=V[0],_=V[1],J=Object(s.useState)(!1),H=Object(d.a)(J,2),Q=H[0],X=H[1],Z=Object(s.useState)(26),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(s.useState)(0),se=Object(d.a)(ae,2),ce=se[0],re=se[1],ne=Object(s.useState)(0),oe=Object(d.a)(ne,2),le=oe[0],ie=oe[1],de=Object(s.useState)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),je=Object(d.a)(de,2),be=je[0],he=je[1],ue=Object(s.useState)(0),me=Object(d.a)(ue,2),Oe=me[0],pe=me[1],xe=Object(s.useState)(0),ve=Object(d.a)(xe,2),ge=ve[0],fe=ve[1],ke=Object(s.useState)(0),Se=Object(d.a)(ke,2),ye=Se[0],Ne=Se[1],we=Object(s.useState)(0),Ce=Object(d.a)(we,2),Me=Ce[0],Te=Ce[1],Ae=Object(s.useState)([]),Le=Object(d.a)(Ae,2),Ie=Le[0],Ee=Le[1],De=Object(s.useState)(""),Pe=Object(d.a)(De,2),Ue=Pe[0],Fe=Pe[1],ze=Object(s.useState)(0),Re=Object(d.a)(ze,2),Ke=Re[0],We=Re[1],Ge=Object(s.useState)(!0),Be=Object(d.a)(Ge,2),qe=Be[0],Ve=Be[1],Ye=Object(s.useState)(["!","?",",",".",";"]),_e=Object(d.a)(Ye,1)[0],Je=Object(s.useState)(!0),He=Object(d.a)(Je,2),Qe=He[0],Xe=He[1],Ze=Object(s.useState)(!0),$e=Object(d.a)(Ze,2),et=$e[0],tt=$e[1];var at=function(e){e.preventDefault()};function st(){var e=new Array(26);e.fill(0),B(e);var t=new Array(26);t.fill(0),R(t);P([]);var a="";M.forEach((function(e,t){if(!0===e){var s=97+t;a+=String.fromCharCode(s)}}));var s=a.split("");P(s)}function ct(){var e=new Array(26);e.fill(0),B(e);var t=new Array(26);t.fill(0),R(t),We(0),Te(0);var a=new Array(Ue.length);a.fill(!1),Ee(a)}return Object(s.useEffect)((function(){var e=new Array(26);e.fill(0),B(e);var t=new Array(26);t.fill(0),R(t);P([]);var a="";M.forEach((function(e,t){if(!0===e){var s=97+t;a+=String.fromCharCode(s)}}));var s=a.split("");P(s)}),[M]),Object(s.useEffect)((function(){return window.addEventListener("keydown",at),document.title="Practise Typing",window.localStorage.getItem("auth-token")?(Xe(!0),b.a.get("https://key-down.herokuapp.com/api/user/getsettings",{headers:{"auth-token":window.localStorage.getItem("auth-token")}}).then((function(e){return e.data})).then((function(e){i(e.settings.capLet),m(e.settings.puncChar),N(e.settings.lettersCount),g(e.settings.wordsCount),_(e.settings.selectAll),L(e.settings.testChar),Xe(!1)})).catch((function(e){return console.log(e)}))):Xe(!1),window.localStorage.getItem("auth-token")?(tt(!0),b.a.get("https://key-down.herokuapp.com/api/user/getprevstats",{headers:{"auth-token":window.localStorage.getItem("auth-token")}}).then((function(e){return e.data})).then((function(e){fe(e.prevStats.time),Ne(e.prevStats.error),re(e.prevStats.testLength),he(e.prevStats.charSpeed),tt(!1)}))):tt(!1),function(){window.removeEventListener("keydown",at)}}),[]),Object(s.useEffect)((function(){if(0!==D.length){for(var e=Math.max(v-2,Math.floor(Math.random()*v)+5),t="",a=1;a<=e;a++){for(var s=Math.floor(Math.random()*y)+3,c=1;c<=s;c++){var r=Math.floor(Math.random()*D.length);if(1===c&&!0===l){var n=D[r].charCodeAt()-32;t+=String.fromCharCode(n)}else t+=D[r]}if(a!==e){if(!0===u){var o=Math.floor(Math.random()*_e.length);t+=_e[o]}t+="\u2423"}}Fe(t),We(0),Te(0);var i=new Array(t.length);i.fill(!1),Ee(i)}}),[D,u,l,_e,v,y]),Object(x.jsx)("div",{children:Qe||et?Object(x.jsx)("div",{className:"loading loading-home"}):Q?Object(x.jsx)(A,{darkMode:t,testVariables:D,puncLetters:_e,selectAll:Y,setSelectAll:_,countChar:ee,setCountChar:te,capLet:l,setCapLet:i,puncChar:u,setPuncChar:m,generateWords:st,testChar:M,setTestChar:L,setDisplaySettings:X,wordsCount:v,setWordsCount:g,lettersCount:y,setLettersCount:N,words:Ue,errorInd:Ie,currInd:Ke,focus:qe,testFontSize:a,updateSettings:function(e,t,a,s,c,r){if(window.localStorage.getItem("auth-token")){var n={capLet:e,puncChar:t,lettersCount:a,wordsCount:s,selectAll:c,testChar:r};b()({method:"put",url:"https://key-down.herokuapp.com/api/user/updatesettings",data:n,headers:{"Content-Type":"application/json","auth-token":window.localStorage.getItem("auth-token")}}).then().catch((function(e){console.log(e.response)}))}}}):Object(x.jsxs)("div",{className:"".concat(qe?"":"inactive"),children:[Object(x.jsx)(T,{totalTime:ge,testLength:ce,error:ye,restartTest:ct,startNewTest:function(){st()},testVariables:D,darkMode:t,charSpeed:be,setDisplaySettings:X,testFontSize:a,setTestFontSize:c}),Object(x.jsx)(S,{words:Ue,errorInd:Ie,currInd:Ke,focus:qe,darkMode:t,testFontSize:a}),Object(x.jsx)("input",{autoFocus:!0,type:"text",onKeyDown:function(e){var t=e.key;if("Escape"!==t){if("Shift"!==t&&"CapsLock"!==t)if(0===Me&&0===Ke&&(pe(Date.now()),ie(Date.now())),t===Ue[Ke]||" "===t&&"\u2423"===Ue[Ke]){var a=Ke+1;if(0!==Ke){var s=Date.now()-le;ie(Date.now());var c=Ue[Ke].charCodeAt();if(c>=97&&c<=122?c-=97:c>=65&&c<=90?c-=65:c=-1,c>=0&&c<26){var n=G;n[c]++,B(n);var o=z;o[c]=o[c]+s,R(o)}}if(a===Ue.length){var l=Date.now()-Oe;fe(l),Ne(Me),re(Ue.length);var i=new Array(26);i.fill(0);for(var d=0;d<26;d++)!0===M[d]&&(0===G[d]?i[d]=-1:i[d]=(200*G[d]*60/z[d]).toFixed(1));return he(i),function(e,t,a,s){if(window.localStorage.getItem("auth-token")){var c={time:e,testLength:t,error:a,charSpeed:s},r={headers:{"auth-token":window.localStorage.getItem("auth-token")}};b.a.put("https://key-down.herokuapp.com/api/user/updateprevstats",c,r).then().catch((function(e){console.log(e)}))}}(l,Ue.length,Me,i),r(l,Me,Ue.length,G,z),void st()}We(a)}else!1===Ie[Ke]&&(Te(Me+1),Ie[Ke]=!0)}else ct()},className:"".concat(t?"hidden-dark":"hidden"),onFocus:function(e){Ve(!0)},onBlur:function(e){Ve(!1)},value:"".concat(qe?"":"Click here to activate..."),readOnly:!0})]})})},I=function(e){var t=e.darkMode;return Object(s.useEffect)((function(){document.title="About the website"}),[]),Object(x.jsxs)("div",{className:"about-page",children:[Object(x.jsx)("div",{className:"mystats-info ".concat(t?"mystats-info-dark":""),children:"About the website"}),Object(x.jsxs)("p",{children:["This website was inspired from :",Object(x.jsx)("a",{className:"keybr-link",href:"https://www.keybr.com/",target:"_blank",rel:"noopener noreferrer",children:"Keybr.com"})]}),Object(x.jsx)("p",{children:"The website uses computer generated words rather than using words from the dictionary. The main motive of this website was to let users practise typing by keys."}),Object(x.jsx)("p",{style:{marginBottom:"5rem"},children:"Computer generated words are often not readable and users have to see every letter before typing hence the average typing speed here is often lesser than the actual average typing speed that one would have while typing actual words."}),Object(x.jsx)("span",{children:"This website is made by:"}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"Shivam Gopal"}),Object(x.jsx)("br",{}),Object(x.jsx)("span",{children:"Indian Institute of Technology (Indian School of Mines), Dhanbad"}),Object(x.jsx)("br",{}),Object(x.jsx)("a",{href:"https://github.com/ShivamGopal",target:"_blank",rel:"noopener noreferrer",children:Object(x.jsx)(m.a,{className:"".concat(t?"github-dark":"github")})}),Object(x.jsx)("a",{href:"https://www.linkedin.com/in/shivam-gopal-41aa63201/",target:"_blank",rel:"noopener noreferrer",children:Object(x.jsx)(m.e,{className:"".concat(t?"linkedin-dark":"linkedin")})})]})},E=a(5),D=function(e){var t=e.username,a=e.dateCreated,s=e.darkMode;return Object(x.jsxs)("div",{className:"mystats-border ".concat(s?"mystats-border-dark":""),children:[Object(x.jsx)("div",{className:"alltimestats-header",children:"Profile :"}),Object(x.jsxs)("div",{className:"mystats-alltimestats",children:[Object(x.jsxs)("div",{className:"mystats-stat ".concat(s?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Username :"}),Object(x.jsx)("div",{className:"mystats-stat-output",children:t})]}),Object(x.jsxs)("div",{className:"mystats-stat ".concat(s?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Account Created On :"}),Object(x.jsx)("div",{className:"mystats-stat-output",children:a})]})]})]})},P=function(e){var t=e.totalTime,a=e.totalTest,s=e.averageSpeed,c=e.averageError,r=e.maxSpeed,n=e.totalTestLength,o=e.darkMode;return Object(x.jsxs)("div",{className:"mystats-border ".concat(o?"mystats-border-dark":""),children:[Object(x.jsx)("div",{className:"alltimestats-header",children:"All Time Statistics :"}),Object(x.jsxs)("div",{className:"mystats-alltimestats",children:[Object(x.jsxs)("div",{className:"mystats-stat ".concat(o?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Total Time Spent :"}),Object(x.jsx)("div",{className:"mystats-stat-output",children:t})]}),Object(x.jsxs)("div",{className:"mystats-stat ".concat(o?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Total Tests Given :"}),Object(x.jsx)("div",{className:"mystats-stat-output",children:a})]}),Object(x.jsxs)("div",{className:"mystats-stat ".concat(o?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Average Speed :"}),Object(x.jsxs)("div",{className:"mystats-stat-output",children:[s," WPM"]})]}),Object(x.jsxs)("div",{className:"mystats-stat ".concat(o?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Average Error :"}),Object(x.jsx)("div",{className:"mystats-stat-output",children:c})]}),Object(x.jsxs)("div",{className:"mystats-stat ".concat(o?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Max Speed :"}),Object(x.jsxs)("div",{className:"mystats-stat-output",children:[r," WPM"]})]}),Object(x.jsxs)("div",{className:"mystats-stat ".concat(o?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Total Characters Typed :"}),Object(x.jsx)("div",{className:"mystats-stat-output",children:n})]})]})]})},U=function(e){var t=e.totalCharCount,a=(e.totalCharTime,e.totalCharSpeed),s=e.darkMode;return Object(x.jsxs)("div",{className:"mystats-border ".concat(s?"mystats-border-dark":""),children:[Object(x.jsx)("div",{className:"alltimestats-header",children:"All Time Key Speed :"}),Object(x.jsx)("div",{className:"mystats-keyspeed",children:a.map((function(e,a){var c=a+65,r="".concat(-1===e?"speed-1":"".concat(e<=20?"speed-2":"".concat(e<=50?"speed-3":"".concat(e<=80?"speed-4":"speed-5"))));return Object(x.jsx)("span",{className:"".concat(r," ").concat(s?"char-speed-dark":"char-speed"," mystats-char-speed"),title:"".concat(-1===e?"You have never typed this character":"Character = '".concat(String.fromCharCode(c),"'\nAverage Speed= ").concat(e," WPM\nTotal times typed=").concat(t[a])),children:String.fromCharCode(c)},a)}))})]})},F=function(e){var t=e.darkMode,a=Object(s.useState)(""),c=Object(d.a)(a,2),r=c[0],n=c[1],o=Object(s.useState)(""),l=Object(d.a)(o,2),i=l[0],j=l[1],h=Object(s.useState)(0),u=Object(d.a)(h,2),m=u[0],O=u[1],p=Object(s.useState)(0),v=Object(d.a)(p,2),g=v[0],f=v[1],k=Object(s.useState)(0),S=Object(d.a)(k,2),y=S[0],N=S[1],w=Object(s.useState)(""),C=Object(d.a)(w,2),M=C[0],T=C[1],A=Object(s.useState)(0),L=Object(d.a)(A,2),I=L[0],F=L[1],z=Object(s.useState)([]),R=Object(d.a)(z,2),K=R[0],W=R[1],G=Object(s.useState)([]),B=Object(d.a)(G,2),q=B[0],V=B[1],Y=Object(s.useState)([]),_=Object(d.a)(Y,2),J=_[0],H=_[1],Q=Object(s.useState)(0),X=Object(d.a)(Q,2),Z=X[0],$=X[1],ee=Object(s.useState)(!0),te=Object(d.a)(ee,2),ae=te[0],se=te[1];return Object(s.useEffect)((function(){document.title="My Stats",window.localStorage.getItem("auth-token")&&function(){var e=window.localStorage.getItem("auth-token");e&&(se(!0),b.a.get("https://key-down.herokuapp.com/api/user/alltimestats",{headers:{"auth-token":e}}).then((function(e){return e.data})).then((function(e){var t=new Date(e.dateCreated),a=t.getDate(),s=t.getMonth()+1,c=t.getFullYear();n(a+"/"+s+"/"+c),j(e.loginDetails.username),O(e.allTimeStats.totalTests),N(e.allTimeStats.totalTestLength),f(e.allTimeStats.maxSpeed);var r=e.allTimeStats.totalTime,o=Math.floor(r/1e3%60),l=Math.floor(r/6e4%60),i=Math.floor(r/36e5);T((i=i<10?"0"+i:i)+":"+(l=l<10?"0"+l:l)+":"+(o=o<10?"0"+o:o));var d=e.allTimeStats.averageError;F(d),W(e.allTimeStats.totalCharCount),V(e.allTimeStats.totalCharTime);var b=e.allTimeStats.averageSpeed;0===e.allTimeStats.totalTime&&(b=0),$(b);for(var h=[],u=0;u<26;u++)if(0===e.allTimeStats.totalCharCount[u])h.push(-1);else{var m=(200*e.allTimeStats.totalCharCount[u]*60/e.allTimeStats.totalCharTime[u]).toFixed(1);h.push(m)}H(h),se(!1)})))}()}),[]),Object(x.jsxs)("div",{children:[!window.localStorage.getItem("auth-token")&&Object(x.jsx)(E.a,{to:"/Key-Down/account"}),ae?Object(x.jsx)("div",{className:"loading loading-home"}):Object(x.jsxs)("div",{className:"mystats",children:[Object(x.jsx)("div",{className:"mystats-info ".concat(t?"mystats-info-dark":""),children:"This page contains your all time typing stats."}),Object(x.jsx)(D,{username:i,dateCreated:r,darkMode:t}),Object(x.jsx)(P,{totalTime:M,totalTest:m,averageSpeed:Z,averageError:I,maxSpeed:g,totalTestLength:y,darkMode:t}),Object(x.jsx)(U,{totalCharCount:K,totalCharTime:q,totalCharSpeed:J,darkMode:t})]})]})},z=function(e){var t=e.averageSpeed,a=e.averageError,s=e.darkMode;return Object(x.jsxs)("div",{className:"mystats-border ".concat(s?"mystats-border-dark":""),children:[Object(x.jsx)("div",{className:"alltimestats-header",children:"Global Averages :"}),Object(x.jsxs)("div",{className:"mystats-alltimestats",children:[Object(x.jsxs)("div",{className:"mystats-stat ".concat(s?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Average Speed :"}),Object(x.jsxs)("div",{className:"mystats-stat-output",children:[t," WPM"]})]}),Object(x.jsxs)("div",{className:"mystats-stat ".concat(s?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Average Error :"}),Object(x.jsx)("div",{className:"mystats-stat-output",children:a})]})]})]})},R=function(e){var t=e.avgSpeedList,a=e.setShowRes,s=e.setUsername,c=e.darkMode;return Object(x.jsxs)("div",{className:"mystats-border ".concat(c?"mystats-border-dark":""),children:[Object(x.jsx)("div",{className:"alltimestats-header",children:"Users with the greatest average speed :"}),Object(x.jsx)("div",{className:"".concat(c?"table-border-dark":"table-border"),children:Object(x.jsx)("table",{className:"global-stats-table",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"".concat(c?"table-header-dark":"table-header"),children:"#"}),Object(x.jsx)("th",{className:"".concat(c?"table-header-dark":"table-header"),children:"Username"}),Object(x.jsx)("th",{className:"".concat(c?"table-header-dark":"table-header"),children:"Average Speed"})]}),t.map((function(e,t){var r="".concat(0===t?"first":"".concat(1===t?"second":"".concat(2===t?"third":"")));return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"".concat(r," ").concat(c?"table-data-dark":"table-data"),children:t+1}),Object(x.jsx)("td",{className:"global-stats-username ".concat(c?"table-data-dark":"table-data"),title:"Click to view the user's profile.",onClick:function(){s(e.username),a(!0)},children:e.username}),Object(x.jsxs)("td",{className:"".concat(c?"table-data-dark":"table-data"),children:[e.averageSpeed," WPM"]})]},t)}))]})})}),Object(x.jsxs)("p",{className:"global-stats-condition",children:[Object(x.jsx)("span",{style:{color:"red"},children:"*"}),Object(x.jsx)("span",{children:" Minimum 10 tests required."})]})]})},K=function(e){var t=e.maxSpeedList,a=e.setShowRes,s=e.setUsername,c=e.darkMode;return Object(x.jsxs)("div",{className:"mystats-border ".concat(c?"mystats-border-dark":""),children:[Object(x.jsx)("div",{className:"alltimestats-header",children:"Users with the highest maximum speed :"}),Object(x.jsx)("div",{className:"".concat(c?"table-border-dark":"table-border"),children:Object(x.jsx)("table",{className:"global-stats-table",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"".concat(c?"table-header-dark":"table-header"),children:"#"}),Object(x.jsx)("th",{className:"".concat(c?"table-header-dark":"table-header"),children:"Username"}),Object(x.jsx)("th",{className:"".concat(c?"table-header-dark":"table-header"),children:"Maximum Speed"})]}),t.map((function(e,t){var r="".concat(0===t?"first":"".concat(1===t?"second":"".concat(2===t?"third":"")));return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"".concat(r," ").concat(c?"table-data-dark":"table-data"),children:t+1}),Object(x.jsx)("td",{className:"global-stats-username ".concat(c?"table-data-dark":"table-data"),title:"Click to view the user's profile.",onClick:function(){s(e.username),a(!0)},children:e.username}),Object(x.jsxs)("td",{className:"".concat(c?"table-data-dark":"table-data"),children:[e.maxSpeed," WPM"]})]},t)}))]})})})]})},W=function(e){var t=e.minErrorList,a=e.setShowRes,s=e.setUsername,c=e.darkMode;return Object(x.jsxs)("div",{className:"mystats-border ".concat(c?"mystats-border-dark":""),children:[Object(x.jsx)("div",{className:"alltimestats-header",children:"Users with the least average error :"}),Object(x.jsx)("div",{className:"".concat(c?"table-border-dark":"table-border"),children:Object(x.jsx)("table",{className:"global-stats-table",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{className:"".concat(c?"table-header-dark":"table-header"),children:"#"}),Object(x.jsx)("th",{className:"".concat(c?"table-header-dark":"table-header"),children:"Username"}),Object(x.jsx)("th",{className:"".concat(c?"table-header-dark":"table-header"),children:"Average Error"})]}),t.map((function(e,t){var r="".concat(0===t?"first":"".concat(1===t?"second":"".concat(2===t?"third":"")));return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{className:"".concat(r," ").concat(c?"table-data-dark":"table-data"),children:t+1}),Object(x.jsx)("td",{className:"global-stats-username ".concat(c?"table-data-dark":"table-data"),title:"Click to view the user's profile.",onClick:function(){s(e.username),a(!0)},children:e.username}),Object(x.jsx)("td",{className:"".concat(c?"table-data-dark":"table-data"),children:e.averageError})]},t)}))]})})}),Object(x.jsxs)("p",{className:"global-stats-condition",children:[Object(x.jsx)("span",{style:{color:"red"},children:"*"}),Object(x.jsx)("span",{children:" Minimum 10 tests required."})]})]})},G=function(e){var t=e.averageCharSpeed,a=e.totalCharCount,s=e.darkMode;return Object(x.jsxs)("div",{className:"mystats-border ".concat(s?"mystats-border-dark":""),children:[Object(x.jsx)("div",{className:"alltimestats-header",children:"Average Key Speed :"}),Object(x.jsx)("div",{className:"mystats-keyspeed",children:t.map((function(e,t){var c=t+65,r="".concat(-1===e?"speed-1":"".concat(e<=20?"speed-2":"".concat(e<=50?"speed-3":"".concat(e<=80?"speed-4":"speed-5"))));return Object(x.jsx)("span",{className:"".concat(r," ").concat(s?"char-speed-dark":"char-speed"," mystats-char-speed"),title:"".concat(-1===e?"This character has never been typed":"Character = '".concat(String.fromCharCode(c),"'\nAverage Speed= ").concat(e," WPM\nTotal times typed=").concat(a[t])),children:String.fromCharCode(c)},t)}))})]})},B=function(e){var t=e.username,a=e.darkMode;return Object(x.jsx)("div",{className:"mystats-alltimestats",children:Object(x.jsxs)("div",{className:"mystats-stat ".concat(a?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Username :"}),Object(x.jsx)("div",{className:"mystats-stat-output",children:t})]})})},q=function(e){var t=e.totalTests,a=e.maxSpeed,s=e.averageSpeed,c=e.averageError,r=e.darkMode;return Object(x.jsxs)("div",{className:"mystats-alltimestats",children:[Object(x.jsxs)("div",{className:"mystats-stat ".concat(r?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Total Tests Given :"}),Object(x.jsx)("div",{className:"mystats-stat-output",children:t})]}),Object(x.jsxs)("div",{className:"mystats-stat ".concat(r?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Max Speed :"}),Object(x.jsxs)("div",{className:"mystats-stat-output",children:[a," WPM"]})]}),Object(x.jsxs)("div",{className:"mystats-stat ".concat(r?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Average Speed :"}),Object(x.jsxs)("div",{className:"mystats-stat-output",children:[s," WPM"]})]}),Object(x.jsxs)("div",{className:"mystats-stat ".concat(r?"mystats-stat-dark":""),children:[Object(x.jsx)("div",{className:"mystats-stat-detail",children:"Average Error :"}),Object(x.jsx)("div",{className:"mystats-stat-output",children:c})]})]})},V=function(e){var t=e.charSpeed,a=e.darkMode;return Object(x.jsx)("div",{className:"mystats-keyspeed",children:t.map((function(e,t){var s=t+65,c="".concat(-1===e?"speed-1":"".concat(e<=20?"speed-2":"".concat(e<=50?"speed-3":"".concat(e<=80?"speed-4":"speed-5"))));return Object(x.jsx)("span",{className:"".concat(c," ").concat(a?"char-speed-dark":"char-speed"," mystats-char-speed"),title:"".concat(-1===e?"User has never typed this character":"Character = '".concat(String.fromCharCode(s),"'\nAverage Speed= ").concat(e," WPM")),children:String.fromCharCode(s)},t)}))})},Y=function(e){var t=e.username,a=e.setShowRes,c=e.flag,r=e.darkMode,n=Object(s.useState)(0),o=Object(d.a)(n,2),l=o[0],i=o[1],j=Object(s.useState)(0),h=Object(d.a)(j,2),m=h[0],O=h[1],p=Object(s.useState)(0),v=Object(d.a)(p,2),g=v[0],f=v[1],k=Object(s.useState)(0),S=Object(d.a)(k,2),y=S[0],N=S[1],w=Object(s.useState)(0),C=Object(d.a)(w,2),M=C[0],T=C[1],A=Object(s.useState)(!0),L=Object(d.a)(A,2),I=L[0],E=L[1];return Object(s.useEffect)((function(){b.a.get("https://key-down.herokuapp.com/api/users/userstats",{headers:{username:t}}).then((function(e){return e.data})).then((function(e){i(e.allTimeStats.totalTests),O(e.allTimeStats.maxSpeed),f(e.allTimeStats.averageError),N(e.allTimeStats.averageSpeed);for(var t=[],a=0;a<26;a++){var s=e.allTimeStats.totalCharTime[a],c=e.allTimeStats.totalCharCount[a];if(0===c)t.push(-1);else{var r=(200*c*60/s).toFixed(1);t.push(r)}}T(t),E(!1)}))}),[t]),Object(x.jsx)("div",{children:I?Object(x.jsx)("div",{className:"loading loading-home"}):Object(x.jsxs)("div",{className:"search-res",children:[Object(x.jsxs)("div",{className:"back",onClick:function(){a(!1)},children:[Object(x.jsx)(u.a,{className:"back-arrow"}),Object(x.jsx)("span",{className:"back-text",children:"Back to"}),"1"===c?Object(x.jsx)("span",{className:"back-text",children:" Search"}):Object(x.jsx)("span",{className:"back-text",children:" Global Stats"})]}),Object(x.jsxs)("h3",{className:"search-res-header",children:["Public Profile of ",t]}),Object(x.jsx)(B,{username:t,darkMode:r}),Object(x.jsx)("div",{className:"".concat(r?"search-res-break-dark":"search-res-break")}),Object(x.jsx)(q,{totalTests:l,maxSpeed:m,averageSpeed:y,averageError:g,darkMode:r}),Object(x.jsx)("div",{className:"".concat(r?"search-res-break-dark":"search-res-break")}),Object(x.jsx)(V,{charSpeed:M,darkMode:r})]})})},_=function(e){var t=e.darkMode,a=Object(s.useState)(!0),c=Object(d.a)(a,2),r=c[0],n=c[1],o=Object(s.useState)(0),l=Object(d.a)(o,2),i=l[0],j=l[1],h=Object(s.useState)(0),u=Object(d.a)(h,2),m=u[0],O=u[1],p=Object(s.useState)([]),v=Object(d.a)(p,2),g=v[0],f=v[1],k=Object(s.useState)([]),S=Object(d.a)(k,2),y=S[0],N=S[1],w=Object(s.useState)([]),C=Object(d.a)(w,2),M=C[0],T=C[1],A=Object(s.useState)([]),L=Object(d.a)(A,2),I=L[0],E=L[1],D=Object(s.useState)([]),P=Object(d.a)(D,2),U=P[0],F=P[1],B=Object(s.useState)(""),q=Object(d.a)(B,2),V=q[0],_=q[1],J=Object(s.useState)(!1),H=Object(d.a)(J,2),Q=H[0],X=H[1];return Object(s.useEffect)((function(){document.title="Global Stats",n(!0),b.a.get("https://key-down.herokuapp.com/api/users/globalstats").then((function(e){return e.data})).then((function(e){var t=e.averageError;O(t);var a=e.averageSpeed;j(a),f(e.averageCharSpeed),N(e.totalCharCount);for(var s=[],c=[],r=[],o=0;o<e.averageSpeedSortedUsers.length;o++)s.push({username:e.averageSpeedSortedUsers[o].loginDetails.username,averageSpeed:e.averageSpeedSortedUsers[o].allTimeStats.averageSpeed}),c.push({username:e.errorSortedUsers[o].loginDetails.username,averageError:e.errorSortedUsers[o].allTimeStats.averageError});for(var l=0;l<e.maxSpeedSortedUsers.length;l++)r.push({username:e.maxSpeedSortedUsers[l].loginDetails.username,maxSpeed:e.maxSpeedSortedUsers[l].allTimeStats.maxSpeed});T(s),E(c),F(r),n(!1)}))}),[]),Object(x.jsx)("div",{children:r?Object(x.jsx)("div",{className:"loading loading-home"}):Q?Object(x.jsx)(Y,{username:V,setShowRes:X,flag:"2",darkMode:t}):Object(x.jsxs)("div",{className:"mystats",children:[Object(x.jsx)("div",{className:"mystats-info ".concat(t?"mystats-info-dark":""),children:"This page contains combined stats of all the users on this website."}),Object(x.jsx)(z,{averageSpeed:i,averageError:m,darkMode:t}),Object(x.jsx)(R,{avgSpeedList:M,setShowRes:X,setUsername:_,darkMode:t}),Object(x.jsx)(W,{minErrorList:I,setShowRes:X,setUsername:_,darkMode:t}),Object(x.jsx)(K,{maxSpeedList:U,setShowRes:X,setUsername:_,darkMode:t}),Object(x.jsx)(G,{averageCharSpeed:g,totalCharCount:y,darkMode:t})]})})},J=function(e){var t=e.darkMode,a=Object(s.useState)(!1),c=Object(d.a)(a,2),r=c[0],n=c[1],o=Object(s.useState)(""),l=Object(d.a)(o,2),i=l[0],j=l[1],h=Object(s.useState)([]),u=Object(d.a)(h,2),m=u[0],O=u[1],p=Object(s.useState)([]),v=Object(d.a)(p,2),g=v[0],f=v[1],k=Object(s.useState)(!1),S=Object(d.a)(k,2),N=S[0],w=S[1],C=Object(s.useState)(10),M=Object(d.a)(C,2),T=M[0],A=M[1],L=Object(s.useState)(!0),I=Object(d.a)(L,2),E=I[0],D=I[1];return Object(s.useEffect)((function(){document.title="Search",D(!0),b.a.get("https://key-down.herokuapp.com/api/users").then((function(e){return e.data})).then((function(e){O(e),D(!1)})).catch((function(e){console.log(e)}))}),[]),Object(x.jsx)("div",{children:E?Object(x.jsx)("div",{className:"loading loading-home"}):r?Object(x.jsx)(Y,{username:i,setShowRes:n,flag:"1",darkMode:t}):Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"icon-align",children:[Object(x.jsx)("input",{className:"".concat(t?"search-input-dark":"search-input"),type:"search",placeholder:"Type to Search User",onChange:function(e){if(A(10),""!==e.target.value){w(!0);var t=m.filter((function(t){var a=t.toLowerCase(),s=e.target.value.toLowerCase();return!!a.includes(s)}));f(t)}else w(!1)}}),Object(x.jsx)(y.a,{className:"".concat(t?"search-icon-dark":"search-icon")})]}),Object(x.jsx)("div",{className:"search-result",children:N?g.length>0?Object(x.jsxs)("div",{children:[g.slice(0,T).map((function(e,a){return Object(x.jsx)("span",{title:"Click to view the user's profile.",className:"".concat(t?"search-username-dark":"search-username"),onClick:function(){j(e),w(!1),n(!0)},children:e},a)})),T<g.length&&Object(x.jsx)("button",{className:"".concat(t?"search-showmore-dark":"search-showmore"),onClick:function(){A(T+10)},children:"Show More"})]}):Object(x.jsx)("div",{children:"Sorry, no user with the entered name found."}):Object(x.jsx)("div",{})})]})})},H=a(12),Q=function(e){var t=e.darkMode;return Object(x.jsx)("div",{className:"top",style:t?{borderBottom:"1px solid #333"}:{}})},X=function(e){var t=e.darkMode;return Object(x.jsx)("div",{className:"left",style:t?{borderRight:"1px solid #333"}:{}})},Z=function(e){var t=e.darkMode,a=e.setDarkMode,c=e.globalLoggedIn,r=Object(s.useState)(""),n=Object(d.a)(r,2),o=n[0],l=n[1],i=Object(s.useState)(!1),j=Object(d.a)(i,2),u=j[0],O=j[1];function p(){window.localStorage.setItem("dm",!t),a(!t)}return Object(s.useEffect)((function(){window.localStorage.getItem("auth-token")&&(O(!0),b.a.get("https://key-down.herokuapp.com/api/user/username",{headers:{"auth-token":window.localStorage.getItem("auth-token")}}).then((function(e){return e.data})).then((function(e){O(!1),l(e.loginDetails.username)})).catch((function(){l("")})))}),[c]),Object(x.jsxs)("div",{className:"right",children:[Object(x.jsxs)(H.b,{activeClassName:"".concat(t?"nav-link-active-dark":"nav-link-active"),className:"".concat(t?"nav-link-dark":"nav-link"),to:"/Key-Down/account",children:[Object(x.jsx)("div",{className:"sign-in-circle ".concat(c?"sign-in-circle-border":""),children:c?Object(x.jsx)("span",{className:"login-initials",children:o.charAt(0).toUpperCase()}):Object(x.jsx)(h.a,{className:"login-icon"})}),c?u?Object(x.jsx)("div",{className:"loading loading-navbar"}):Object(x.jsx)("div",{style:{textAlign:"center",overflow:"hidden"},children:o}):Object(x.jsx)("div",{style:{textAlign:"center"},children:"Sign in / Register "})]}),Object(x.jsx)("div",{className:"".concat(t?"nav-icons-dark":"nav-icons"),children:t?Object(x.jsx)("span",{title:"Switch to Light Mode",onClick:p,children:Object(x.jsx)(m.j,{fontSize:"24px",color:"#ffff77",cursor:"pointer"})}):Object(x.jsx)("span",{title:"Switch to Dark Mode",onClick:p,children:Object(x.jsx)(m.g,{fontSize:"24px",color:"#000044",cursor:"pointer"})})}),Object(x.jsxs)(H.b,{activeClassName:"".concat(t?"nav-link-active-dark":"nav-link-active"),className:"".concat(t?"nav-link-dark":"nav-link"),to:"/Key-Down",exact:!0,children:[Object(x.jsx)(m.d,{className:"link-icon"}),"Practise"]}),Object(x.jsxs)(H.b,{activeClassName:"".concat(t?"nav-link-active-dark":"nav-link-active"),className:"".concat(t?"nav-link-dark":"nav-link"),to:"/Key-Down/my-stats",children:[Object(x.jsx)(w.b,{className:"link-icon"}),"My Stats"]}),Object(x.jsxs)(H.b,{activeClassName:"".concat(t?"nav-link-active-dark":"nav-link-active"),className:"".concat(t?"nav-link-dark":"nav-link"),to:"/Key-Down/global-stats",children:[Object(x.jsx)(m.b,{className:"link-icon"}),"Global Stats"]}),Object(x.jsxs)(H.b,{activeClassName:"".concat(t?"nav-link-active-dark":"nav-link-active"),className:"".concat(t?"nav-link-dark":"nav-link"),to:"/Key-Down/search",children:[Object(x.jsx)(m.i,{className:"link-icon"}),"Search"]}),Object(x.jsxs)(H.b,{activeClassName:"".concat(t?"nav-link-active-dark":"nav-link-active"),className:"".concat(t?"nav-link-dark":"nav-link"),to:"/Key-Down/about",children:[Object(x.jsx)(m.c,{className:"link-icon"}),"About"]})]})},$=function(e){var t=e.darkMode;return Object(x.jsx)("div",{className:"bottom",style:t?{borderTop:"1px solid #333"}:{},children:Object(x.jsxs)("div",{className:"bottom-text",children:["For any suggestions or queries email to:",Object(x.jsx)("a",{href:"mailto:shivamgopal55@gmail.com",className:"bottom-mailid",children:"shivamgopal55@gmail.com"}),Object(x.jsxs)("div",{children:["Copyright",Object(x.jsx)("span",{style:{fontSize:"1.5rem",position:"relative",top:"0.2rem"},children:"\xa9"})," KeyDown.com"]})]})})};var ee=function(){var e=Object(s.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(s.useState)(0),n=Object(d.a)(r,2),o=n[0],j=n[1],h=Object(s.useState)(!1),u=Object(d.a)(h,2),m=u[0],O=u[1];function p(){return(p=Object(i.a)(l.a.mark((function e(t,a,s,c,r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.localStorage.getItem("auth-token")){e.next=2;break}return e.abrupt("return");case 2:return n={testLength:s,time:t,error:a,charCount:c,charTime:r},e.prev=3,e.next=6,b()({method:"put",url:"https://key-down.herokuapp.com/api/user/updatestats",data:n,headers:{"auth-token":window.localStorage.getItem("auth-token")}});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e=window.localStorage.getItem("auth-token");O(!!e);var t=window.localStorage.getItem("dm");c("true"===t);var a=window.localStorage.getItem("fs");j("1"===a?1:"2"===a?2:0)}),[]),Object(x.jsx)(H.a,{children:Object(x.jsxs)("div",{className:"App ".concat(a?"theme-dark":"theme"),children:[Object(x.jsx)(Q,{darkMode:a}),Object(x.jsxs)("div",{className:"columns",children:[Object(x.jsx)(X,{darkMode:a}),Object(x.jsx)("div",{className:"center",style:a?{borderRight:"1px solid #333"}:{},children:Object(x.jsxs)(E.d,{children:[Object(x.jsx)(E.b,{path:"/Key-Down/account",children:Object(x.jsx)(k,{darkMode:a,globalLoggedIn:m,setGlobalLoggedIn:O})}),Object(x.jsx)(E.b,{path:"/Key-Down/my-stats",children:Object(x.jsx)(F,{darkMode:a})}),Object(x.jsx)(E.b,{path:"/Key-Down/global-stats",children:Object(x.jsx)(_,{darkMode:a})}),Object(x.jsx)(E.b,{path:"/Key-Down/search",children:Object(x.jsx)(J,{darkMode:a})}),Object(x.jsx)(E.b,{path:"/Key-Down/about",children:Object(x.jsx)(I,{darkMode:a})}),Object(x.jsx)(E.b,{path:"/",children:Object(x.jsx)(L,{darkMode:a,testFontSize:o,setTestFontSize:j,updateStats:function(e,t,a,s,c){return p.apply(this,arguments)}})})]})}),Object(x.jsx)(Z,{darkMode:a,setDarkMode:c,globalLoggedIn:m})]}),Object(x.jsx)($,{darkMode:a})]})})},te=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,73)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,n=t.getTTFB;a(e),s(e),c(e),r(e),n(e)}))};n.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(ee,{})}),document.getElementById("root")),te()}},[[72,1,2]]]);
//# sourceMappingURL=main.f4136a06.chunk.js.map